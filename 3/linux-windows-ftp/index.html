<!DOCTYPE html>
<html lang="en"> <head><link rel="shortcut icon" href="/static/images/TechMonger%28CC%29.ico"><title>Transfer files between Ubuntu and Windows using FTP - Tech Monger</title><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content="Host FTP Server on Ubuntu to Transfer and 
Backup files between Ubuntu and Windows using VSFTP."><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="canonical" href="/3/linux-windows-ftp/"><style>.lead{font-size:1.25rem;font-weight:300}</style></head> <body> <div class="container"> <header class="container"> <h1 class="row"><a href="/">Tech Monger</a></h1> <p class="lead row">Programming, Web Development and Computer Science.</p> </header> <span id="skiplinks" class="skip-link"> <a href="#main" title="Main Content on Page">Skip to main content</a>| <a href="#sidebar" title="Sidebar of Blog">Skip to information by topic</a> </span> <div class="row"> <main class="col-lg-9" id="main"> <article class="container" itemscope itemtype="https://schema.org/BlogPosting"> <h2 itemprop="headline">File transfer between ubuntu and windows using VSFTP</h2> <p itemprop="datePublished" title="17-11-19 15:10:28Z">Posted November 19, 2017</p> <div itemprop="articleBody"> <p class="lead">In this tutorial we will learn how to use vsftpd on Linux to make Ubuntu machine run as ftp server and transfer files over wifi on local network.</p> <p>On many occasion you need to copy and backup files locally from one computer to other. Using physical disk like flash drive or external hard drive is not always feasible due to many constraints such large file size, external drive availability.</p> <div class="card"> <div class="card-body"> <ol> <li><a href="#setup">Setup</a></li> <li><a href="#vsftp-installation">Install VSFTP demon on Ubuntu</a></li> <li><a href="#vsftp-configuration">Configure VSFTPD for uploads (Optional) </a></li> <li><a href="#ufw-configuration">Configure Ubuntu firewall for FTP</a></li> <li><a href="#windows-firewall">Configure Windows Firewall</a></li> <li><a href="#windows-cmd-ftp">Initiate FTP session using Windows command line</a></li> <li><a href="#windows-filezilla-ftp">Initiate FTP connection using ftp client on windows</a></li> <li> <a href="#security">Understanding Security Aspects - Firewall and Services</a></li> </ol> </div> </div> <h3 id="setup" class="top3">Setup</h3> <p>We can take advantage of machines being on same network to achieve file transfer.</p> <p>To follow this guide you should have access to following</p> <ul> <li>Ubuntu Machine</li> <li>Windows Machine </li> <li>Both machines connected over same network using ethernet or wifi</li> </ul> <h3 id="vsftp-installation" class="top2">How to install VFTP on Ubuntu</h3> <p>Open Terminal to get and install <code>vsftp</code> demon from official ubuntu repository.</p> <p><code class="hljs">sudo apt-get install vsftpd</code></p> <p>Above command will install <code>vsftp</code> demon which means it will always be running in background upon machine startup using <code>init</code>.</p> <p>Use following commands to check vsftp service</p> <p><code class="hljs">sudo service vsftpd status</code></p> <p>If service is running then above command will output status of service with all spawned <code>vsftp</code> process ids.</p> <p>Alternatively you can also check vsftp process with grep</p> <p><code class="hljs">ps -ef | grep vsftp</code></p> <h3 id="vsftp-configuration" class="top2">How to configure VSFTP for Uploads</h3> <p>This step is optional but if you want to allow uploads from remote machine to your ubuntu server then follow below configuration.</p> <p>After installation vsftp will create configuration file at path <code>/etc/vsftpd.conf</code>. This file should be owned by <code>root</code> and should have default vsftp configuration. By default VSFTP will not allow ftp uploads; to enable it uncomment line <code>write_enable=YES</code> </p> <pre><code># Uncomment this to enable any form of FTP write command.
write_enable=YES
</code></pre> <p>Note that <code>/etc/vsftpd.conf</code> would be owned by <code>root</code>, to make any changes in configuration do. <code class="hljs">sudo vim /etc/vsftpd.conf</code> or <code class="hljs">sudo gedit /etc/vsftpd.conf</code> </p> <p class="top1">Restart vsftpd demon once configuration is completed.</p> <code class="hljs">sudo service vsftpd restart</code> <p class="top1">Check status after restart.</p> <code class="hljs">sudo service vsftpd status</code> <h3 id="ufw-configuration" class="top2">How to configure Ubuntu firewall for FTP</h3> <p class="top1"> By default ubuntu shall be running firewall known as uncomplicated firewall (<code>ufw</code>). Default firewall rules will not allow any outside connection. <p class="top1">To open ftp port on this firewall use following commands.</p> <p>Check firewall status using </p> <code class="hljs">sudo ufw status</code> <p class="top1"> Firewall should be active and running. If it's not active then enable the same using following command to make your machine secure. </p> <p class="top1"> You can keep it disable if you have such requirement, however it's recommended to keep it on. <code class="hljs">sudo ufw enable</code> </p> <p class="top1">To open ftp port <code>21</code> use following command</p> <code class="hljs">sudo ufw allow ftp</code> or <code class="hljs">sudo ufw allow 21</code> <p class="top1">This will add firewall rule to accept ftp connections from other machine on network. After adding ftp rule you should have following entries in your firewall. <code class="hljs">sudo ufw status</code> <pre><code>
Status: active
To                         Action      From
--                         ------      ----
21/tcp                     ALLOW       Anywhere                  
21/tcp (v6)                ALLOW       Anywhere (v6)     
</code></pre> </p> <h3 id="windows-firewall" class="top2">Configure Windows Firewall</h3> <p>Firewall should permit you to initiate ftp session from windows machine. Search for <b>Windows Firewall</b> in start menu to open firewall configuration window.</p> <p>Since we are going to use one time ftp we will <strong>disable firewall and reenable</strong> it once ftp is done. Depending upon which network you are connected to Home or Public you can disable firewall like below. </p> <img class="img-fluid" src="/static/images/3/windows-disable-firewall.png" alt="Screenshot : Disable Windows Firewall"> <div class="top3 alert-warning"> <p>Note that disabling complete firewall is not recommended. If you are going to use ftp server regularly from windows machine then please create firewall rules under <b>Windows Firewall with Advanced Security</b> on Port 21</p></div> <h3 id="windows-cmd-ftp" class="top2">Initiate FTP session using Windows command line</h3> <p>Once we are done with required configurations we can initiate first ftp connection from windows command line. First get IP address of machine hosting FTP server using command <code>ifconfig</code> on ubuntu machine. Use <code>eth0 inet address</code> if you are connected with ethernet cable. For wireless connection use <code>inet</code> address of <code>wlan0</code> interface. My ubuntu machine have following local IP <code>192.168.2.102</code>.</p> </p> <code class="hljs">ifconfig</code> <pre><code>
eth0      Link encap:Ethernet  
          UP BROADCAST MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:0 (0.0 B)  TX bytes:0 (0.0 B)

wlan0     Link encap:Ethernet  
          inet addr:192.168.2.102  Bcast:192.168.2.255  Mask:255.255.255.0
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:24006 errors:0 dropped:0 overruns:0 frame:0
          TX packets:8312 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:12996852 (12.9 MB)  TX bytes:1224374 (1.2 MB)
</code></pre> <p> To initiate connection open command prompt on windows and use following command. <code class="hljs">ftp 192.168.2.102</code> </p> <p>It will ask for username and password. Username will be same name as the ubuntu user (techmonger in my case) and password will the ubuntu's system password of user.</p> <img class="img-fluid" src="/static/images/3/windows-ftp-login-vsftp-ubuntu.png" alt="windows cmd ftp login vsftpd ubuntu"> <p>To get file from ubuntu ftp server, navigate to directory and use get command like below.</p> <pre><code>ftp>get filename</code></pre> <p>To upload file from windows machine to ftp server, put command like below.</p> <pre><code>ftp>put filename</code></pre> <p>To terminate ftp session use bye.</p> <pre><code>ftp>bye</code></pre> <h3 id="windows-filezilla-ftp" class="top2">Initiate FTP connection usign ftp client on windows</h3> <p>By now you would agree that doing ftp from windows command prompt is bit tedious. We can use ftp client such as <b>winscp</b> or <b>filezilla</b> to get GUI for ftp operations. </p> <p> Use hostname as IP address of ftp server (192.168.2.102 in my case) and same credentials as those of ubuntu user. </p> <p> Like below you can initiate connection from filezilla. You can use drag and drop to download and upload files from windows machine. </p> <img itemprop="image" class="img-fluid" src="/static/images/3/windows-ftp-filezilla-vsftp.png" alt="windows filezilla ubuntu vsftp"> <h3 id="security" class="top2">FTP Security Aspects - Firewall and Services</h3> <p>All ftp connections will be initiated in plain text. You should only use above method if you are in <strong>local network and have complete control over network</strong>. For encrypted connections use <code>sftp</code> or <code>ftps</code>. <ul> <li><p class="top1">Remove firewall rule from ubuntu once ftp requirement is over.</p></li> <code class="hljs">sudo ufw deny ftp</code> or <code class="hljs">sudo ufw deny 21</code> <li> <p class="top1"><strong>Enable Winows firewall once ftp requirement is over.</strong></p> </li> <li> <p>Stop vsftp demon if ftp is no longer needed to save system resources. It will also make your system less vulnerable.</p> <code class="hljs">sudo service vsftpd stop</code> </li> </ul> <div class="card top3"> <p class="lead">Conclusion : You can make your ubuntu machine to run as ftp server and can transfer files locally. You do not need SMB (server message block) for file transfer between linux machine and windows machine over network.</p> </div> </div> <p class="top3">Tagged Under :<span itemprop="keywords"> <a href="/tag/linux/">Linux</a> <a href="/tag/open-source/">Open Source</a> <a href="/tag/ubuntu/">Ubuntu</a> <a href="/tag/windows/">Windows</a> </span> </p> </article> <div class="top3"> <div class="col-sm-9"> <span class="float-left"> <a class="btn btn-secondary btn-md" role="button" aria-disabled="false" href="/2/simple-parabola-matplotlib/" title="Plotting Parabola (y = x<sup>2</sup>) using Python and Matplotlib ">Previous</a> </span> <span class="float-right"> <a class="btn btn-secondary btn-md" role="button" aria-disabled="false" href="/4/secure-passwords-werkzeug/" title="How to store passwords securely using Werkzeug">Next</a> </span> </div> </div> </main> <aside class="col-lg-3 top5" id="sidebar"> <div class="text-right"> <h3>Tags</h3> <nav> <ul> <li class="list-unstyled"><a href="/tag/davmail/" title="Davmail Setup and Configuration">Davmail</a></li> <li class="list-unstyled"><a href="/tag/flask/" title="Flask Web Development">Flask</a></li> <li class="list-unstyled"><a href="/tag/google-cloud/" title="Google Cloud Tutorials and Examples">Google Cloud</a></li> <li class="list-unstyled"><a href="/tag/informatica/" title="Informatica Administration Tutorials">Informatica</a></li> <li class="list-unstyled"><a href="/tag/linux/" title="Linux Desktop and Server - Tutorials">Linux</a></li> <li class="list-unstyled"><a href="/tag/localtunnel/" title="Localtunnel Tutorials -  HTTP Tunnel in Action">Localtunnel</a></li> <li class="list-unstyled"><a href="/tag/open-source/" title="Tutorials about open source software ">Open Source</a></li> <li class="list-unstyled"><a href="/tag/python/" title="Python Programming">Python</a></li> <li class="list-unstyled"><a href="/tag/raspberry-pi/" title="Raspberry Pi Tutorials and Hacks">Raspberry Pi</a></li> <li class="list-unstyled"><a href="/tag/thunderbird/" title="Thunderbird Tutorials">Thunderbird</a></li> <li class="list-unstyled"><a href="/tag/ubuntu/" title="Ubuntu Tutorials">Ubuntu</a></li> <li class="list-unstyled"><a href="/tag/web/" title="Tutorials for Full Stack Web Developers">Web</a></li> <li class="list-unstyled"><a href="/tag/windows/" title="Windows Software and Tutorials">Windows</a></li> <li class="list-unstyled"><a href="/tag/wordpress/" title="Wordpress Tutorials and Guides">Wordpress</a></li> </ul> </nav> </div> <div class="top4 bottom4 float-left"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-1476292113673713" data-ad-slot="5902771189"></ins> <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
            </script> <div> <div class="text-center"> <a class="top5" href="/feeds/" title="Atom Feed - Tech Monger"><i class="fa fa-rss" aria-hidden="true"></i>&nbsp;&nbsp;Feeds</a> </div> </aside> </div> <hr class="top3"> <footer class="top5 text-secondary"> <div class="container-fluid text-center text-md-left"> <div class="row"> <div class="col-md-4 mt-md-0 mt-3"> <h5 class="text-uppercase">About</h5> <p>Techmonger is a web log which shares interesting articles about computer science, programming and web development.</p> </div> <hr class="clearfix w-100 d-md-none pb-3"> <div class="col-md-3 mb-md-0 mb-3"> <h5 class="text-uppercase">Pages</h5> <ul class="list-unstyled"> <li> <a href="/privacy.html">Privacy Policy</a> </li> <li> <a href="/contact.html">Contact</a> </li> </ul> </div> <div class="col-md-5 mb-md-0 mb-3"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:inline-block;width:468px;height:60px" data-ad-client="ca-pub-1476292113673713" data-ad-slot="1929762560"></ins> <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
            </script> </div> </div> </div> </footer> <div class="top3"></div> <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css"> <script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script> <script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#ffffff"
    },
    "button": {
      "background": "#e0e0e0",
      "text": "#0a0202"
    }
  },
  "theme": "edgeless",
  "content": {
    "dismiss": "Accept",
    "href": "/privacy.html"
  }
})});
</script> </div> <link rel="stylesheet" type="text/css" href="/static/css/style.css"> <script src="/static/js/scripts.js"></script> <script>hljs.initHighlightingOnLoad();</script> </body> </html>