<!DOCTYPE html>
<html lang="en"> <head><link rel="shortcut icon" href="/static/images/TechMonger%28CC%29.ico"><title>Unix Globs to Regular Expression Conversion - Tech Monger</title><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content="In this article we will learn how to generate regular expression from simple glob pattern patching with the help of python."><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="canonical" href="/36/glob-to-regex/"><style>.lead{font-size:1.25rem;font-weight:300}</style></head> <body> <div class="container"> <header class="container"> <h1 class="row"><a href="/">Tech Monger</a></h1> <p class="lead row">Programming, Web Development and Computer Science.</p> </header> <span id="skiplinks" class="skip-link"> <a href="#main" title="Main Content on Page">Skip to main content</a>| <a href="#sidebar" title="Sidebar of Blog">Skip to information by topic</a> </span> <div class="row"> <main class="col-lg-10" id="main"> <article class="container" itemscope itemtype="https://schema.org/BlogPosting"> <h2 itemprop="headline">Generate Regular Expression from Glob Patterns</h2> <p itemprop="datePublished" title="18-07-05 17:55:16Z">Posted July 05, 2018</p> <div itemprop="articleBody"> <p class="lead"> Not all of us are pro in writing regular expressions but many times we need to use regular expression in our programs. Often we know corresponding Linux glob expression pattern to match string corpus we are working with. But majority of programming API function call requires regex as an input. In this tutorial we will learn how to use Python's inbuilt <code>fnmatch</code> module to convert unix pattern matching expression into to full fledged regular expressions. <mark>No familiarity with python is expected to follow this tutorial</mark>. </p> <h3>Glob Expressions - Quick Primer</h3> <p>Glob expression in linux are quick way to pattern match filenames in unix like filesystem. Globs are simple yet very powerful. Below are the some of the examples of glob patterns.</p> <pre><code class="bash"># Match all files ending with sh
ls  *sh
</code></pre> <pre><code class="bash"># Match all files with word <code>execute</code> in it
ls  *execute*
</code></pre> <pre><code class="bash"># Match all files starting with number
ls  [0-9]*
</code></pre> <h3 class="top3">Glob to Regular Expression Conversion using Python</h3> <p>Python's inbuilt module <code>fnmatch</code> provides a function called <code>translate</code> which takes glob expression as an argument and returns regular expression as an output.</p> <pre><code class="python">$ python

>>> import fnmatch

>>> fnmatch.translate('*sh')
'.*sh\\Z(?ms)'

>>> fnmatch.translate('*execute*')
'.*execute.*\\Z(?ms)'

>>> fnmatch.translate('[0-9]*')
'[0-9].*\\Z(?ms)'</code></pre> <h4>Compile result with re</h4> <p> You can use above output regular expressions in any language of your choice. However if you are using python then you can make use of inbuilt <code>re</code> module to match string against regular expression. For matching simply compile output produced by <code> fnmatch.translate</code> like below. </p> <pre><code class="python">$ python
>>> import fnmatch
>>> import re

# Storing output regular expression string in variable
>>> reg_exp = fnmatch.translate('c*t')

# Compiling stored regular expression
>>> pattern = re.compile(reg_exp)

# Matching regular expression against string
>> bool(pattern.match('cat'))
True

>> bool(pattern.match('cap'))
False
</code></pre> <h3>Conclusion</h3> <div class="card"> <p class="card-body"> By using translate method of python's fnmatch module you can convert any glob expression into complex regular expressions and make use of those in any programming language for the pattern matching. </p> </div> </div> <p class="top3">Tagged Under :<span itemprop="keywords"> <a href="/tag/linux/">Linux</a> <a href="/tag/python/">Python</a> </span> </p> </article> <div class="top3"> <div class="col-sm-9"> <span class="float-left"> <a class="btn btn-secondary btn-md" role="button" aria-disabled="false" href="/35/install-redis-windows/" title="Setup Redis on Windows 7 without Admin Access">Previous</a> </span> <span class="float-right"> <a class="btn btn-secondary btn-md disabled" role="button" aria-disabled="true" href="#">Next</a> </span> </div> </div> </main> <aside class="col-lg-2" id="sidebar"> <h3>Tags</h3> <nav> <ul> <li><a href="/tag/davmail/" title="Davmail Setup and Configuration">Davmail</a></li> <li><a href="/tag/flask/" title="Flask Web Development">Flask</a></li> <li><a href="/tag/informatica/" title="Informatica Administration Tutorials">Informatica</a></li> <li><a href="/tag/linux/" title="Linux Desktop and Server - Tutorials">Linux</a></li> <li><a href="/tag/localtunnel/" title="Localtunnel Tutorials -  HTTP Tunnel in Action">Localtunnel</a></li> <li><a href="/tag/matplotlib/" title="Matplotlib Examples and Tutorials">Matplotlib</a></li> <li><a href="/tag/open-source/" title="Tutorials about open source software ">Open Source</a></li> <li><a href="/tag/python/" title="Python Programming">Python</a></li> <li><a href="/tag/raspberry-pi/" title="Raspberry Pi Tutorials and Hacks">Raspberry Pi</a></li> <li><a href="/tag/thunderbird/" title="Thunderbird Tutorials">Thunderbird</a></li> <li><a href="/tag/ubuntu/" title="Ubuntu Tutorials">Ubuntu</a></li> <li><a href="/tag/windows/" title="Windows Software and Tutorials">Windows</a></li> </ul> </nav> <a href="/feeds/" title="Atom Feed - Tech Monger"><i class="fa fa-rss" aria-hidden="true"></i>&nbsp;&nbsp;Feeds</a> </aside> </div> <div class="top3"></div> </div> <link rel="stylesheet" type="text/css" href="/static/css/style.css"> <script src="/static/js/scripts.js"></script> <script>hljs.initHighlightingOnLoad();</script> </body> </html>