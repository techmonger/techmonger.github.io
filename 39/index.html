<!DOCTYPE html>
<html lang="en"> <head><link rel="shortcut icon" href="/static/images/TechMonger%28CC%29.ico"><title>Python Command Line Execution - Tech Monger</title><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content="Learn how to invoke windows, mac, unix or linux operating system shell commands from python program without writing separate shell script."><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="canonical" href="/39/python-shell-commands/"><style>.lead{font-size:1.25rem;font-weight:300}</style></head> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-1476292113673713",
          enable_page_level_ads: true
     });
</script> <body> <div class="container"> <header class="container"> <h1 class="row"><a href="/">Tech Monger</a></h1> <p class="lead row">Programming, Web Development and Computer Science.</p> </header> <span id="skiplinks" class="skip-link"> <a href="#main" title="Main Content on Page">Skip to main content</a>| <a href="#sidebar" title="Sidebar of Blog">Skip to information by topic</a> </span> <div class="row"> <main class="col-lg-10" id="main"> <article class="container" itemscope itemtype="https://schema.org/BlogPosting"> <a href="/39/python-shell-commands/"> <h2 itemprop="headline">Execute Linux Shell Commands from Python Program </h2> </a> <p itemprop="datePublished" title="18-08-01 19:19:12Z">Posted August 01, 2018</p> <div itemprop="articleBody"> <p class="lead"> While writing python program you may come across situation where there is no python api or library to achieve your task but equivalent shell command exists. In this tutorial we will learn how you can embed shell commands in your python program and access standard output, error and status code generated by command execution. </p> <h3>Steps to create Process and Execute Commands in Python</h3> <ol class="top3"> <li class="top1"> Import class <code>Popen</code> and flag <code>PIPE</code> from module <code>subprocess</code> </li> <li class="top1"> Store <strong>command</strong> to be executed in variable as a string. </li> <li class="top1"> <strong>Create command arguments</strong> list by splitting command string (step 2) using spaces. </li> <li class="top1"> <strong>Create new process object</strong> of class <code>Popen</code> by providing command arguments (step 3) and redirect <code>stdout</code> and <code>stderr</code> with <code>PIPE</code>. (check <a href="#example">example<a> below) </li> <li class="top1"> To access <strong>completed command execution details</strong> call <code>communicate</code> method on process object. (step 4.) </li> <li class="top1"> Check return code of executed command (step 5) using process object's returncode attribute<code>process.returncode</code> . </li> </ol> </h3> <h3 id="example" class="text-center top2">Example</h3> <pre class="python top2"><code>from subprocess import Popen, PIPE

# Command to be executed as a string
command_string = "touch new_file"

# Converts command to be executed as a list
command = command_string.split()

# Spawn Process and Starts Execution
process = Popen(command, stdout=PIPE, stderr=PIPE)

# Returns stdout and stderr after completion of execution
stdout, stderr = process.communicate()

# Exit code of completed command execution
status_code = process.returncode
</code></pre> <h3 class="top3">How does it work ?</h3> <h4 class="top2">Subprocess</h4> <p>Python provides inbuilt module called <code>subprocess</code> using which you can create (spawn) new operating process from your python application. It's platform independent which means you can create new process in windows, linux or any other operating system. </p> <h4 class="top2">Popen and PIPE</h4> <p>Subprocess provides class called <code>Popen</code> for command execution in which you can provide command that you want to execute as list of argument. For example <code>["ls", "-l"]</code>. </p> <p>Popen also allows you to redirect standard output and standard error using <code>PIPE</code> which means you can store these details inside process object members namely <code>process.stdout</code> and <code>process.stderr</code>. Without <code>PIPE</code> redirection, <code>Popen</code> would print stdout and stderror on process shell which is not very useful. </p> <p>Note that it is not recommended to access<code>process.stdout</code> and <code>process.stderr</code> without making sure that command has completed its execution. Use communicate method of process object to overcome this issue. </p> <h4 class="top2">Communicate</h4> <p>Using <code>communicate</code> method of <code>Popen</code> process object you can make sure that command execution is completed. Communicate returns <code>stdout</code> and <code>stderr</code> of <em>completed</em> command execution. Communicate also updates the process object's <code>returncode</code> flag with exit code of command execution.</p> <h3 class="top2">Conclusion</h3> <div class="card top1"> <p class="card-body"> Using subprocess module you can execute any command in any operating system from python script. You can also access stdout and stderror generated by executed command along with exit code. </p> </div> </div> <p class="top3">Tagged Under :<span itemprop="keywords"> <a href="/tag/linux/">Linux</a> <a href="/tag/python/">Python</a> <a href="/tag/windows/">Windows</a> </span> </p> </article> <div class="top3"> <div class="col-sm-9"> <span class="float-left"> <a class="btn btn-secondary btn-md" role="button" aria-disabled="false" href="/38/parallel-pmrep-connect/" title="Create Script Specific Informatica PMREP Connections">Previous</a> </span> <span class="float-right"> <a class="btn btn-secondary btn-md" role="button" aria-disabled="false" href="/40/redis-without-root/" title="Redis Linux Installation without Root Aceess">Next</a> </span> </div> </div> </main> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1476292113673713" data-ad-slot="1851067053" data-ad-format="auto" data-full-width-responsive="true"></ins> <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
                </script> <aside class="col-lg-2 top5" id="sidebar"> <h3>Tags</h3> <nav> <ul> <li><a href="/tag/davmail/" title="Davmail Setup and Configuration">Davmail</a></li> <li><a href="/tag/flask/" title="Flask Web Development">Flask</a></li> <li><a href="/tag/google-cloud/" title="Google Cloud Tutorials and Examples">Google Cloud</a></li> <li><a href="/tag/informatica/" title="Informatica Administration Tutorials">Informatica</a></li> <li><a href="/tag/linux/" title="Linux Desktop and Server - Tutorials">Linux</a></li> <li><a href="/tag/localtunnel/" title="Localtunnel Tutorials -  HTTP Tunnel in Action">Localtunnel</a></li> <li><a href="/tag/open-source/" title="Tutorials about open source software ">Open Source</a></li> <li><a href="/tag/python/" title="Python Programming">Python</a></li> <li><a href="/tag/raspberry-pi/" title="Raspberry Pi Tutorials and Hacks">Raspberry Pi</a></li> <li><a href="/tag/thunderbird/" title="Thunderbird Tutorials">Thunderbird</a></li> <li><a href="/tag/ubuntu/" title="Ubuntu Tutorials">Ubuntu</a></li> <li><a href="/tag/web/" title="Tutorials for Full Stack Web Developers">Web</a></li> <li><a href="/tag/windows/" title="Windows Software and Tutorials">Windows</a></li> <li><a href="/tag/wordpress/" title="Wordpress Tutorials and Guides">Wordpress</a></li> </ul> </nav> <a href="/feeds/" title="Atom Feed - Tech Monger"><i class="fa fa-rss" aria-hidden="true"></i>&nbsp;&nbsp;Feeds</a> </aside> </div> <hr class="top3"> <footer class="top5 text-secondary"> <div class="container-fluid text-center text-md-left"> <div class="row"> <div class="col-md-6 mt-md-0 mt-3"> <h5 class="text-uppercase">About</h5> <p>Techmonger is a web log which shares interesting articles about computer science, programming and web development.</p> </div> <hr class="clearfix w-100 d-md-none pb-3"> <div class="col-md-3 mb-md-0 mb-3"> <h5 class="text-uppercase">Pages</h5> <ul class="list-unstyled"> <li> <a href="/privacy.html">Privacy Policy</a> </li> <li> <a href="/contact.html">Contact</a> </li> </ul> </div> </div> </div> </footer> <div class="top3"></div> <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css"> <script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script> <script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#ffffff"
    },
    "button": {
      "background": "#e0e0e0",
      "text": "#0a0202"
    }
  },
  "theme": "edgeless",
  "content": {
    "dismiss": "Accept",
    "href": "/privacy/"
  }
})});
</script> </div> <link rel="stylesheet" type="text/css" href="/static/css/style.css"> <script src="/static/js/scripts.js"></script> <script>hljs.initHighlightingOnLoad();</script> </body> </html>