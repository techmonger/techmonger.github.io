<!DOCTYPE html>
<html lang="en"> <head><link rel="shortcut icon" href="/static/images/TechMonger%28CC%29.ico"><title>Informatica - Troubleshoot long running workflows - Tech Monger</title><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content="In this tutorial you will learn to troubleshoot high resource consuming and long running informatica workflow sessions to keep server healthy."><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="canonical" href="/19/fix-heavy-workflows/"><style>.lead{font-size:1.25rem;font-weight:300}</style></head> <body> <div class="container"> <header class="container"> <h1 class="row"><a href="/">Tech Monger</a></h1> <p class="lead row">Programming, Web Development and Computer Science.</p> </header> <span id="skiplinks" class="skip-link"> <a href="#main" title="Main Content on Page">Skip to main content</a>| <a href="#sidebar" title="Sidebar of Blog">Skip to information by topic</a> </span> <div class="row"> <main class="col-lg-10" id="main"> <article class="container" itemscope itemtype="https://schema.org/BlogPosting"> <h2 itemprop="headline">Fix Long Running Resource Heavy Workflows</h2> <p itemprop="datePublished" title="18-01-07 06:41:54Z">Posted January 07, 2018</p> <div itemprop="articleBody"> <p class="lead">To keep informatica server platform running smoothly it is important to identify and fix resource bottlenecks. Resource bottleneck will not only slow down other informatica workflows but also harm other applications running on the same server. In previous post we have learned to <a href="/18/long-running-workflows/" title="Check Hevay Informatica Workflows">identify time and resource consuming workflows</a>. Depending upon the environment and criticality of the workflow you can employ one of the below mean to troubleshoot identified workflows.</p> <h3>Checking Logs</h3> <p>To fix workflow it is important to understand why workflow is consuming lot of resources and time. The only way you can find that information is by checking session log. If workflow is running for long period then chances are it would create very big log file which you cannot not open from workflow monitor. But you can always use <code>tail</code> command to read file content on the server.</p> <pre><code class="bash">tail -f 'session-log-file'</code></pre> <h3>Prioritize Workflow Process</h3> <p>If workflow run is critical and cannot be stopped then you can change the niceness of the workflow process. More the nice value lesser the resource utilization. You can set nice value between -20 to 19. For example to make workflow consume less resources you can consider <code>renice</code> process by +5.</p> <pre><code class="bash">renice 5 'workflow-pid' </code></pre> <h3>Kill Workflow Gracefully</h3> <p>If none of the above solution is working for you then you can get rid of workflow by aborting it from monitor. However if process is not responding (hung workflow) then you can kill the workflow. The best way to kill workflow is to kill very child process of the workflow so that workflow can finish resource cleanup and may be able to recover after aborting child. Use following command to get workflow childs.</p> <pre><code class="bash">pstree -p  'workflow-pid'</code></pre> <h4>Example</h4> <h5>Identify all child processes of the workflow.</h5> <pre><code class="bash">bash-4.2$ pstree -p 30873
pmdtm(30873)-+-{pmdtm}(30874)
             |-{pmdtm}(30877)
             |-{pmdtm}(30881)
             |-{pmdtm}(30882)
             |-{pmdtm}(30883)
             |-{pmdtm}(30885)
             |-{pmdtm}(30886)
             `-{pmdtm}(30887)</code></pre> <h5 class="top2">Kill the child process</h5> <pre><code class="bash">kill -9 'workflow-child-pid' </code></pre> <h6>Example</h6> <pre><code class="bash">kill -9 30887 </code></pre> <div class="card"> <p class="card-body">On <b>unix platform</b> you can use <code>ptree 'workflow-pid'</code> to get very child process of workflow.<br> On <b>window platform</b> you can use task manager <kbd>ctrl + alt + del</kbd> to get details about workflow process and end process accordingly.</p> </div> <p class="lead top3"> If killing very child does not recover or abort workflow then kill previous child process (30886) and repeat till you reach workflow process <code>pmdtm</code>(30873). </p> </div> <p class="top3">Tagged Under :<span itemprop="keywords"> <a href="/tag/Informatica/">Informatica</a> <a href="/tag/Linux/">Linux</a> <a href="/tag/Windows/">Windows</a> </span> </p> </article> <div class="top3"> <div class="col-sm-9"> <span class="float-left"> <a class="btn btn-secondary btn-md" role="button" aria-disabled="false" href="/18/long-running-workflows/" title="Identify Resource Intensive Informatica Workflows">Previous</a> </span> <span class="float-right"> <a class="btn btn-secondary btn-md disabled" role="button" aria-disabled="true" href="#">Next</a> </span> </div> </div> </main> <aside class="col-lg-2" id="sidebar"> <h3>Tags</h3> <nav> <ul> <li><a href="/tag/Davmail/" title="Davmail Setup and Configuration">Davmail</a></li> <li><a href="/tag/Flask/" title="Flask Web Development">Flask</a></li> <li><a href="/tag/Informatica/" title="Informatica Administration Tutorials">Informatica</a></li> <li><a href="/tag/Linux/" title="Linux Desktop and Server - Tutorials">Linux</a></li> <li><a href="/tag/Matplotlib/" title="Matplotlib Examples and Tutorials">Matplotlib</a></li> <li><a href="/tag/Open-Source/" title="Tutorials about open source software ">Open-Source</a></li> <li><a href="/tag/Python/" title="Python Programming">Python</a></li> <li><a href="/tag/Thunderbird/" title="Thunderbird Tutorials">Thunderbird</a></li> <li><a href="/tag/Ubuntu/" title="Ubuntu Tutorials">Ubuntu</a></li> <li><a href="/tag/Windows/" title="Windows Software and Tutorials">Windows</a></li> </ul> </nav> </aside> </div> <div class="top3"></div> </div> <link rel="stylesheet" type="text/css" href="/static/css/style.css"> <script src="/static/js/scripts.js"></script> <script>hljs.initHighlightingOnLoad();</script> </body> </html>