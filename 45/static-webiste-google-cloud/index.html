<!DOCTYPE html>
<html lang="en"> <head><link rel="shortcut icon" href="/static/images/TechMonger%28CC%29.ico"><title>Host Static Website on Google Cloud for Free - Tech Monger</title><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content="In this article we will create free static website on google cloud vm."><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="canonical" href="/45/static-webiste-google-cloud/"><style>.lead{font-size:1.25rem;font-weight:300}</style></head> <body> <div class="container"> <header class="container"> <h1 class="row"><a href="/">Tech Monger</a></h1> <p class="lead row">Programming, Web Development and Computer Science.</p> </header> <span id="skiplinks" class="skip-link"> <a href="#main" title="Main Content on Page">Skip to main content</a>| <a href="#sidebar" title="Sidebar of Blog">Skip to information by topic</a> </span> <div class="row"> <main class="col-lg-9" id="main"> <article class="container" itemscope itemtype="https://schema.org/BlogPosting"> <h2 itemprop="headline">Free Static Website on Google Cloud VM</h2> <p itemprop="datePublished" title="18-08-19 15:06:54Z">Posted August 19, 2018</p> <div itemprop="articleBody"> <p class="lead"> In this tutorial we will publish static website on google cloud for free. We will use f1 micro instance on google compute engine to get free hosting. Google provides 744 free hours per month for the f1 compute engine instance which will be same as one month of free hosting. We assume that you have working google account and have signed up for google cloud. Please follow these steps to host your static site on Google VM. </p> <div class="card"> <div class="card-body"> <h5 class="text-center">Steps</h5> <ol> <li class="top1"><a href="#compute-engine">Create Compute Engine Instance</a></li> <li class="top1"><a href="#firewall">Enable HTTP Port</a></li> <li class="top1"><a href="#apache">Install Apache</a></li> <li class="top1"><a href="#sftp">SFTP Connection</a></li> <li class="top1"><a href="#html">Upload Static Website</a></li> <li class="top1"><a href="#A-Record">Map IP Address with Domain</a></li> <li class="top1"><a href="#debug">Debugging</a></li> <li class="top1"> <a href="#security">Security</a></li> </ol> </div> </div> <hr> <h3 id="compute-engine" class="top2">Create Compute Engine Instance</h3> <p>Open google cloud console and from menu select compute engine. Create new linux vm instance according to your requirement. For static website a f1 micro instance would suffice. </p> <figure class="text-center"> <img class="img-fluid" src="/static/images/45/compute-engine-instance.png" alt="Google Cloud Create Compute Instance"> <figcaption class="text-center top1">Compute Engine f1 Debian VM</figcaption> </figure> <hr> <h3 id="firewall" class="top2">Enable HTTP Port</h3> <p> For your VM instance enable HTTP Port <code>80</code>. This will create firewall rule for your VM by opening HTTP Port so that web server can listen and serve web traffic. You can enable HTTP while creating new instance or edit current instance like below. </p> <figure class="text-center"> <img class="img-fluid" src="/static/images/45/enable-http.png" alt="Activate HTTP - Compute Engine Instance"> <figcaption class="text-center top1">Enable HTTP - Firewall Rule</figcaption> </figure> <hr> <h3 id="apache" class="top2">Install Apache Web Server</h3> <p>Since you have configured linux VM instance you can install apache from command line. But to have command line access you should <a href="/43/ssh-google-vm/" title="Public Key Based SSH - Google Cloud VM">establish ssh connectivity between your machine and cloud VM</a>. This will come handy when you want to do file transfer from you machine to VM. </p> <p class="top1">We have spun compute instance with Debian OS which have <code>apt</code> packet manager. We will install apache with following command. Get external ip address of your VM to start ssh connection. (93.184.216.34) </p> <pre class="bash"><code>techmonger@ubuntu:~$ ssh 93.184.216.34
techmonger@google-vm:~$ sudo apt install apache2
</code></pre> <p class="top1"> Visit ip address from web browser and you should see apache home page. This will ensure that apache is running on your vm. </p> <figure class="text-center"> <img class="img-fluid" src="/static/images/45/apache-debian-default-page.png" alt="Apache Default Page in Debian Linux"> <figcaption class="text-center top1">Apache Running On Debian VM</figcaption> </figure> <hr> <h3 id="sftp" class="top2">SFTP Connection</h3> <p>To upload website content you will need to do file transfer from your machine to cloud vm. For this read how you can <a href="/44/sftp-google-cloud-vm/" title="FileZilla SFTP with Google Cloud VM">configure sftp connection with your VM</a> and do file transfer with ftp client. If you have already configured SSH connection, sftp connection establishment will be relatively easy. </p> <hr> <h3 id="html" class="top2">Upload Static HTML Content</h3> <p>With above SFTP connection you can start uploading your website content inside root directory of apache webserver. By default apache root which holds html pages is <code>/var/www/html</code>. You should put your website content in this directory and also replace default <code>index.html</code> with your code.</p> <p class="top1"> Once all website content is stored inside root directory of apache webserver, visit the external ip of vm using browser and you shall see your website up and running on vm. </p> <hr> <h3 id="A-Record">Map IP Address with Domain</h3> <p>To get your website running on VM you should open domain configuration at your domain service provider. Add new entry in your domain for <strong>A Record</strong>. This A Record value should be mapped to your vm's external static ip address.</p> <p class="top2">Once DNS has been propagated you shall see your website running on your domain. DNS propagation may take some time. Check your domain service provider if you need help with this step.</p> <hr> <h3 id="debug">Debugging</h3> <p>If even after following above instructions your website is not coming up then then check for following things.</p> <ul> <li>Check Status of Apache Webserver <pre class="bash top2"><code>sudo service apache2 status</code></pre> <p>If Apache is not running then start it with following command.</p> <pre class="bash top2"><code>sudo service apache2 start</code></pre> </li> <li>Check if website content is uploaded correctly inside following directory. <pre class="bash top2"><code>ls -l /var/www/html/</code></pre> <p>If website content is not present then re upload it. Also make sure it is uploaded via root user if non root user does not have permission to upload. <ol> <li>Transfer content inside your home directory using SFTP. (<code>/home/username/website/</code>) </li> <li>Start SSH Connection with your VM</li> <li>Sudo root user <pre class="bash top2"><code>sudo su -</code></pre> </li> <li>Copy content as root user inside <code> /var/www/html/</code> <pre class="bash top2"><code>cp -r /username/website/* /var/www/html/</code></pre> </li> </ul> <hr> <h3 id="security">Security</h3> <p>With above setup your VM's IP address can easily be available to the outside world. Hence your website can become victim for <abbr title="Distributed Denial of Service">DDOS</abbr> attack. To mitigate this consider putting your website behind cloudflare. Also if your website is allowing any user input such as <a href="/10/flask-simple-authentication/" title="Flask Simple User Login">user login</a> or <a href="/5/python-flask-recaptcha/" title="Build Contact Form for Website with Python Flask">contact form</a> then use <a href="/46/free-ssl-google-cloud/" title="Install Free SSL Certificate">https connection instead of http</a>. </p> <hr> <h4>Conclusion</h4> <div class="card"> <p class="card-body"> By following above steps we have hosted static website on google vm using apache webserver. We have used basic compute engine f1 instance for this website however you can increase computation resources like memory, processor or disk space according to you need in future. </p> </div> </div> <p class="top3">Tagged Under :<span itemprop="keywords"> <a href="/tag/google-cloud/">Google Cloud</a> <a href="/tag/linux/">Linux</a> <a href="/tag/ubuntu/">Ubuntu</a> <a href="/tag/web/">Web</a> </span> </p> </article> <div class="top3"> <div class="col-sm-9"> <span class="float-left"> <a class="btn btn-secondary btn-md" role="button" aria-disabled="false" href="/44/sftp-google-cloud-vm/" title="SFTP Connectivity with Google Cloud VM">Previous</a> </span> <span class="float-right"> <a class="btn btn-secondary btn-md" role="button" aria-disabled="false" href="/46/free-ssl-google-cloud/" title="Let's Encrypt Static Website on Google Cloud">Next</a> </span> </div> </div> </main> <aside class="col-lg-3 top5" id="sidebar"> <div class="text-right"> <h3>Tags</h3> <nav> <ul> <li class="list-unstyled"><a href="/tag/davmail/" title="Davmail Setup and Configuration">Davmail</a></li> <li class="list-unstyled"><a href="/tag/flask/" title="Flask Web Development">Flask</a></li> <li class="list-unstyled"><a href="/tag/google-cloud/" title="Google Cloud Tutorials and Examples">Google Cloud</a></li> <li class="list-unstyled"><a href="/tag/informatica/" title="Informatica Administration Tutorials">Informatica</a></li> <li class="list-unstyled"><a href="/tag/linux/" title="Linux Desktop and Server - Tutorials">Linux</a></li> <li class="list-unstyled"><a href="/tag/localtunnel/" title="Localtunnel Tutorials -  HTTP Tunnel in Action">Localtunnel</a></li> <li class="list-unstyled"><a href="/tag/open-source/" title="Tutorials about open source software ">Open Source</a></li> <li class="list-unstyled"><a href="/tag/python/" title="Python Programming">Python</a></li> <li class="list-unstyled"><a href="/tag/raspberry-pi/" title="Raspberry Pi Tutorials and Hacks">Raspberry Pi</a></li> <li class="list-unstyled"><a href="/tag/thunderbird/" title="Thunderbird Tutorials">Thunderbird</a></li> <li class="list-unstyled"><a href="/tag/ubuntu/" title="Ubuntu Tutorials">Ubuntu</a></li> <li class="list-unstyled"><a href="/tag/web/" title="Tutorials for Full Stack Web Developers">Web</a></li> <li class="list-unstyled"><a href="/tag/windows/" title="Windows Software and Tutorials">Windows</a></li> <li class="list-unstyled"><a href="/tag/wordpress/" title="Wordpress Tutorials and Guides">Wordpress</a></li> </ul> </nav> </div> <div class="top2 float-left"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-1476292113673713" data-ad-slot="8720400182"></ins> <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script> <div> <div class="text-center"> <a class="top3" href="/feeds/" title="Atom Feed - Tech Monger"><i class="fa fa-rss" aria-hidden="true"></i>&nbsp;&nbsp;Feeds</a> </div> </aside> </div> <hr class="top3"> <footer class="top5 text-secondary"> <div class="container-fluid text-center text-md-left"> <div class="row"> <div class="col-md-6 mt-md-0 mt-3"> <h5 class="text-uppercase">About</h5> <p>Techmonger is a web log which shares interesting articles about computer science, programming and web development.</p> </div> <hr class="clearfix w-100 d-md-none pb-3"> <div class="col-md-3 mb-md-0 mb-3"> <h5 class="text-uppercase">Pages</h5> <ul class="list-unstyled"> <li> <a href="/privacy.html">Privacy Policy</a> </li> <li> <a href="/contact.html">Contact</a> </li> </ul> </div> <div class="col-md-3 mb-md-0 mb-3"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:inline-block;width:468px;height:60px" data-ad-client="ca-pub-1476292113673713" data-ad-slot="1929762560"></ins> <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
            </script> </div> </div> </div> </footer> <div class="top3"></div> <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css"> <script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script> <script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#ffffff"
    },
    "button": {
      "background": "#e0e0e0",
      "text": "#0a0202"
    }
  },
  "theme": "edgeless",
  "content": {
    "dismiss": "Accept",
    "href": "/privacy.html"
  }
})});
</script> </div> <link rel="stylesheet" type="text/css" href="/static/css/style.css"> <script src="/static/js/scripts.js"></script> <script>hljs.initHighlightingOnLoad();</script> </body> </html>