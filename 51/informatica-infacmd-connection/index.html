<!DOCTYPE html>
<html lang="en"> <head><link rel="shortcut icon" href="/static/images/TechMonger%28CC%29.ico"><title>Infacmd Connection Command in Informatica with Example - Tech Monger</title><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content="In this tutorial we will learn how to use infacmd command in informatica scripts without exposing password."><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="canonical" href="/51/informatica-infacmd-connection/"><style>.lead{font-size:1.25rem;font-weight:300}</style></head> <body> <div class="container"> <header class="container"> <h1 class="row"><a href="/">Tech Monger</a></h1> <p class="lead row">Programming, Web Development and Computer Science.</p> </header> <span id="skiplinks" class="skip-link"> <a href="#main" title="Main Content on Page">Skip to main content</a>| <a href="#sidebar" title="Sidebar of Blog">Skip to information by topic</a> </span> <div class="row"> <main class="col-lg-9" id="main"> <article class="container" itemscope itemtype="https://schema.org/BlogPosting"> <h2 itemprop="headline">Secure infamd connection using encrypted password</h2> <p itemprop="datePublished" title="18-09-04 17:30:00Z">Posted September 04, 2018</p> <div itemprop="articleBody"> <p class="lead"> Informatica provides infacmd command line utility to perform various tasks from command line. Using <code>infacmd</code> you can write scripts to automate your regular tasks. To use any of the infacmd command you need to provide user credentials for the domain and repository. However providing credentials in plain text could be <strong>security risk</strong>, to avoid this you can use <em>encrypted password</em> and <em>environment variables</em> to make secure connection. In this article we will briefly touch upon following points. </p> <hr> <div class="card"> <div class="card-body"> <ul> <li><h5><a href="#location" title="Infacmd Path on Informatica Linux Server">Infacmd Location</a></h5></li> <li><h5><a href="#execution" title="Generic infacmd command syntax">Infacmd Execution Syntax</a></h5></li> <li><h5><a href="#insecure-execution" title=" Insecure infacmd command">Insecure Execution</a></h5> <li><h5><a href="#secure-execution" title=" Secure infacmd command">Secure Execution</a></h5> <li><h5><a href="#example" title=" Example script with secure infacmd">Infacmd Example</a></h5> </ul> </div> </div> <hr> <h3 id="location" class="top2">Location</h3> <p>In Unix like operating systems<code>infacmd</code> binaries can be found inside informatica installation directory <code>$INFA_HOME</code>. Depending on the version of the informatica infacmd can be located in either of the below path.</p> <pre class="bash"><code>$INFA_HOME/isp/bin/infacmd.sh
</code></pre> <pre class="bash"><code>$INFA_HOME/server/bin/infacmd.sh
</code></pre> <hr> <h3 id="execution" class="top2">Execution</h3> <p>If above directories are added inside user's operating system <code>path</code> variable then you can invoke infacmd from any location of your choice otherwise you will have to manually invoke <code>infacmd</code> like below. </p> <pre class="bash"><code>$INFA_HOME/server/bin/infacmd.sh {command-name} {option} {value} ...
</code></pre> <hr> <h3 id="insecure-execution" class="top2">Insecure Execution</h3> <p>infacmd connect to informatica domain, repository service and integration services in order to execute command and perform desired operations. Hence it may verify username and password for both domain and repository. </p> <p>For example to get informatica workflow log <code>infacmd</code> executes command <a href="/52/infacmd-get-workflow-log/" title="Access Recent Informatica Workflow Logs From Command Line">GetWorkflowLog</a> which requires both repository and domain credentials and can be executed like below. </p> <p> Note that how below command accepts domain password (<code>-Password</code>) and repository password (<code>-RepositoryPassword</code>) in <strong>plain text</strong>. Using below command exposes credentials and compromises security.</code> </p> <pre class="bash"><code>infacmd GetWorkflowLog -Gateway example.com:8888 -DomainName MY_DOMAIN 
-UserName DOMAIN_USERNAME -Password MyStr0ngP#d 
-IntegrationService MY_INT_SERVICE -RepositoryService MY_REP_SERVICE 
-RepositoryUser REP_USERNAME -RepositoryPassword MyStr0ngP#d
-Format TEXT -OutputFile workflow_name.log -FolderName FOLDER_NAME 
-Workflow WORKFLOW_NAME
</code></pre> <hr> <h3 id="secure-execution" class="top2">Secure Execution</h3> <p>To overcome above insecure connection issue you can provide encrypted password as an input to infacmd command using environment variables. </p> <ol> <li class="top2"> Encrypt domain and repository password using <code>pmpasswd</code>. <pre class="bash top2"><code>$ cd $INFA_HOME/server/bin/
$ pmpasswd MyStr0ngP#d

Encrypted string -->KBACAF604ekJHoTuzISGOjo==<--
Will decrypt to -->MyStr0ngP#d<--
</code></pre> <p> You should run <code>pmpasswd</code> on the same server on which domain you are trying to connect is running on. </p> </li> <li class="top2"> Encrypted domain password should be set as an environment variable with name <code>INFA_DEFAULT_DOMAIN_PASSWORD</code>. <pre class="bash top2"><code>INFA_DEFAULT_DOMAIN_PASSWORD="KBACAF604ekJHoTuzISGOjo==";
export INFA_DEFAULT_DOMAIN_PASSWORD
</code></pre> </li> <li class="top2"> Encrypted repository password should be set as an environment variable with name <code>INFA_REPOSITORY_PASSWORD</code>. <pre class="bash top2"><code>INFA_REPOSITORY_PASSWORD="KBACAF604ekJHoTuzISGOjo==";
export INFA_REPOSITORY_PASSWORD
</code></pre> </li> </ol> <hr> <h3 class="top2" id="example">INFACMD Example - Secure Command</h4> <pre class="bash top2"><code>INFA_DEFAULT_DOMAIN_PASSWORD="KBACAF604ekJHoTuzISGOjo==";
export INFA_DEFAULT_DOMAIN_PASSWORD

INFA_REPOSITORY_PASSWORD="KBACAF604ekJHoTuzISGOjo==";
export INFA_REPOSITORY_PASSWORD

infacmd GetWorkflowLog -Gateway example.com:8888 -DomainName MY_DOMAIN 
-UserName DOMAIN_USERNAME
-IntegrationService MY_INT_SERVICE -RepositoryService MY_REP_SERVICE 
-RepositoryUser REP_USERNAME
-Format TEXT -OutputFile workflow_name.log -FolderName FOLDER_NAME 
-Workflow WORKFLOW_NAME
</code></pre> <hr> <h3 class="top2">Conclusion</h3> <div class="card"> <p class="card-body">We have set encrypted password in environment variable before command execution. It <strong>eliminates password flags</strong> <code>-Password</code> and <code>-RepositoryPassword</code> in command. Informatica will automatically check encrypted passwords and decrypt it internally to execute command. This makes script or command secure by hiding the password. </p> </div> </div> <p class="top3">Tagged Under :<span itemprop="keywords"> <a href="/tag/infacmd/">INFACMD</a> <a href="/tag/informatica/">Informatica</a> <a href="/tag/linux/">Linux</a> </span> </p> </article> <div class="top3"> <div class="col-sm-9"> <span class="float-left"> <a class="btn btn-secondary btn-md" role="button" aria-disabled="false" href="/50/certbot-apache-configuration/" title="How Certbot Modify Apache Configuration Files">Previous</a> </span> <span class="float-right"> <a class="btn btn-secondary btn-md" role="button" aria-disabled="false" href="/52/infacmd-get-workflow-log/" title="Get Informatica Workflow Logs from Terminal">Next</a> </span> </div> </div> </main> <aside class="col-lg-3 top5" id="sidebar"> <div class="text-right"> <h3>Tags</h3> <nav> <ul> <li class="list-unstyled"><a href="/tag/davmail/" title="Davmail Setup and Configuration">Davmail</a></li> <li class="list-unstyled"><a href="/tag/flask/" title="Flask Web Development">Flask</a></li> <li class="list-unstyled"><a href="/tag/google-cloud/" title="Google Cloud Tutorials and Examples">Google Cloud</a></li> <li class="list-unstyled"><a href="/tag/informatica/" title="Informatica Administration Tutorials">Informatica</a></li> <li class="list-unstyled"><a href="/tag/linux/" title="Linux Desktop and Server - Tutorials">Linux</a></li> <li class="list-unstyled"><a href="/tag/localtunnel/" title="Localtunnel Tutorials -  HTTP Tunnel in Action">Localtunnel</a></li> <li class="list-unstyled"><a href="/tag/open-source/" title="Tutorials about open source software ">Open Source</a></li> <li class="list-unstyled"><a href="/tag/python/" title="Python Programming">Python</a></li> <li class="list-unstyled"><a href="/tag/raspberry-pi/" title="Raspberry Pi Tutorials and Hacks">Raspberry Pi</a></li> <li class="list-unstyled"><a href="/tag/thunderbird/" title="Thunderbird Tutorials">Thunderbird</a></li> <li class="list-unstyled"><a href="/tag/ubuntu/" title="Ubuntu Tutorials">Ubuntu</a></li> <li class="list-unstyled"><a href="/tag/web/" title="Tutorials for Full Stack Web Developers">Web</a></li> <li class="list-unstyled"><a href="/tag/windows/" title="Windows Software and Tutorials">Windows</a></li> <li class="list-unstyled"><a href="/tag/wordpress/" title="Wordpress Tutorials and Guides">Wordpress</a></li> </ul> </nav> </div> <div class="top4 bottom4 float-left"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:inline-block;width:336px;height:280px" data-ad-client="ca-pub-1476292113673713" data-ad-slot="8720400182"></ins> <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script> <div> <div class="text-center"> <a class="top5" href="/feeds/" title="Atom Feed - Tech Monger"><i class="fa fa-rss" aria-hidden="true"></i>&nbsp;&nbsp;Feeds</a> </div> </aside> </div> <hr class="top3"> <footer class="top5 text-secondary"> <div class="container-fluid text-center text-md-left"> <div class="row"> <div class="col-md-4 mt-md-0 mt-3"> <h5 class="text-uppercase">About</h5> <p>Techmonger is a web log which shares interesting articles about computer science, programming and web development.</p> </div> <hr class="clearfix w-100 d-md-none pb-3"> <div class="col-md-3 mb-md-0 mb-3"> <h5 class="text-uppercase">Pages</h5> <ul class="list-unstyled"> <li> <a href="/privacy.html">Privacy Policy</a> </li> <li> <a href="/contact.html">Contact</a> </li> </ul> </div> <div class="col-md-5 mb-md-0 mb-3"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class="adsbygoogle" style="display:inline-block;width:468px;height:60px" data-ad-client="ca-pub-1476292113673713" data-ad-slot="1929762560"></ins> <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
            </script> </div> </div> </div> </footer> <div class="top3"></div> <link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css"> <script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script> <script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#ffffff"
    },
    "button": {
      "background": "#e0e0e0",
      "text": "#0a0202"
    }
  },
  "theme": "edgeless",
  "content": {
    "dismiss": "Accept",
    "href": "/privacy.html"
  }
})});
</script> </div> <link rel="stylesheet" type="text/css" href="/static/css/style.css"> <script src="/static/js/scripts.js"></script> <script>hljs.initHighlightingOnLoad();</script> </body> </html>